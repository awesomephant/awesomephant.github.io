<script>
    var canvas = document.createElement('canvas');
    canvas.width = 16;
    canvas.height = 16;
    var ctx = canvas.getContext('2d');
    ctx.fillStyle = randomColor({ luminosity: 'light' });
    ctx.fillRect(0, 0, 16, 16);
    var link = document.createElement('link');
    link.type = 'image/x-icon';
    link.rel = 'shortcut icon';
    link.href = canvas.toDataURL("image/x-icon");
    document.getElementsByTagName('head')[0].appendChild(link);


    var insertAfter = function (newNode, referenceNode) {
        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
    }
    var linksToFootnotes = function () {
        var links = document.querySelectorAll('.post a')
        var post = document.querySelector('.post');
        var footnotes = '';
        if (links && post) {
            for (var i = 0; i < links.length; i++) {
                footnotes += '<li>' + links[i].getAttribute('href') + '</li>';
                var text = links[i].innerHTML;
                links[i].innerHTML = text + '<sup class="ref">' + i + '</sup>';
            }
            var el = document.createElement('ul')
            el.classList.add('print-footnotes')
            el.innerHTML = footnotes;
            insertAfter(el, post)
        }
    }

    var randomizeYearColors = function () {
        var years = [2014, 2015, 2016, 2017, 2018];
        var head = document.querySelector('.site-header');
        var css = '';
        for (var i = 0; i < 2; i++) {
            css += '[data-year="' + years[i] + '"]{color:' + randomColor({luminosity: 'bright', hue: 'green'}) + ';}\n'
        }
        for (var i = 2; i < years.length; i++) {
            css += '[data-year="' + years[i] + '"]{color:' + randomColor({luminosity: 'bright', hue: 'blue'}) + ';}\n'
        }
        var el = document.createElement('style');
        el.innerHTML = css;
        insertAfter(el, head)
        console.log(css);
    }
    linksToFootnotes();

</script>